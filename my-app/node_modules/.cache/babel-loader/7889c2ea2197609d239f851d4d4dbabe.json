{"ast":null,"code":"import _createForOfIteratorHelper from\"C:\\\\Users\\\\Elvira\\\\Desktop\\\\ParkHere2\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"C:\\\\Users\\\\Elvira\\\\Desktop\\\\ParkHere2\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Elvira\\\\Desktop\\\\ParkHere2\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Elvira\\\\Desktop\\\\ParkHere2\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"C:\\\\Users\\\\Elvira\\\\Desktop\\\\ParkHere2\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"C:\\\\Users\\\\Elvira\\\\Desktop\\\\ParkHere2\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import*as Axios from'axios';import'./location.css';import'./index.css';import Button from'react-bootstrap/Button';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';var Location=/*#__PURE__*/function(_React$Component){_inherits(Location,_React$Component);var _super=_createSuper(Location);function Location(props){var _this;_classCallCheck(this,Location);_this=_super.call(this,props);_this.getGeoLocation=function(position){var setArray=_this.updateStateWithArray;var array=[];Axios.get(\"http://localhost:5000/location?lat=\".concat(position.coords.latitude,\"&lng=\").concat(position.coords.longitude)).then(function(response){console.log(\"response data: \"+response.data);var _iterator=_createForOfIteratorHelper(response.data),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var property=_step.value;//om response.data är en array\narray.push(property);console.log(property);//detta pushar in alla dataobject i data arrayen.\n}}catch(err){_iterator.e(err);}finally{_iterator.f();}console.log('här kommer en array');console.log(JSON.stringify(array));setArray(array);}).catch(function(error){console.log(error);});};_this.locate=_this.locate.bind(_assertThisInitialized(_this));_this.updateStateWithArray=_this.updateStateWithArray.bind(_assertThisInitialized(_this));_this.renderTheArray=_this.renderTheArray.bind(_assertThisInitialized(_this));_this.state={latitude:59.38273599999999,longitude:17.992799999999992,setShow:''};return _this;}_createClass(Location,[{key:\"locate\",value:function locate(){if(navigator.geolocation){console.log(this);navigator.geolocation.getCurrentPosition(this.getGeoLocation);}}},{key:\"updateStateWithArray\",value:function updateStateWithArray(array){this.setState({AllPlaceObjects:array});}},{key:\"render\",value:function render(){console.log(this.state.AllPlaceObjects);return/*#__PURE__*/React.createElement(\"div\",{className:\"calc-row\"},/*#__PURE__*/React.createElement(\"img\",{src:\"ParkHere header solid thinner.png\",alt:\"ParkHere header\",width:\"100%\",className:\"headerImg\"}),/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:\"1\"}),/*#__PURE__*/React.createElement(Col,{xs:\"10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"border\",width:\"100%\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",onClick:this.locate,className:\"buttonz\"},\"Hitta din plats!\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"div\",null,this.renderTheArray()))),/*#__PURE__*/React.createElement(Col,{xs:\"1\"}))));}},{key:\"renderTheArray\",value:function renderTheArray(){if(this.state.AllPlaceObjects){if(this.state.AllPlaceObjects.length){var tempPlaces=this.state.AllPlaceObjects;var dateTime;var arrayWithHTML=[];console.log(this.state.AllPlaceObjects);console.log(tempPlaces);console.log(this.state.AllPlaceObjects.length);var _iterator2=_createForOfIteratorHelper(this.state.AllPlaceObjects),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var onePlace=_step2.value;if(onePlace.parkingStatus){arrayWithHTML.push(/*#__PURE__*/React.createElement(\"div\",{className:\"greenText\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Aktuella f\\xF6reskrifter tyder p\\xE5 att parkering \\xE4r till\\xE5ten p\\xE5 denna plats just nu.\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)));}else{arrayWithHTML.push(/*#__PURE__*/React.createElement(\"div\",{className:\"redText\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Aktuella f\\xF6reskrifter tyder p\\xE5 att parkering inte \\xE4r till\\xE5ten p\\xE5 denna plats just nu.\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)));}arrayWithHTML.push(/*#__PURE__*/React.createElement(\"span\",null,\"H\\xE4r g\\xE4ller f\\xF6ljande parkeringsregler: \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)));arrayWithHTML.push(/*#__PURE__*/React.createElement(\"div\",null,\"Omr\\xE5de: \",onePlace.district,/*#__PURE__*/React.createElement(\"br\",null)));arrayWithHTML.push(/*#__PURE__*/React.createElement(\"div\",null,\"Adress: \",onePlace.returnAddress,/*#__PURE__*/React.createElement(\"br\",null)));arrayWithHTML.push(/*#__PURE__*/React.createElement(\"div\",null,onePlace.serviceMessage,/*#__PURE__*/React.createElement(\"br\",null)));arrayWithHTML.push(/*#__PURE__*/React.createElement(\"div\",null,onePlace.maxHours,/*#__PURE__*/React.createElement(\"br\",null)));dateTime=/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"dateTime\"},onePlace.dateToday,\" \",onePlace.timeToday),/*#__PURE__*/React.createElement(\"br\",null));console.log(onePlace);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}console.log(arrayWithHTML[0]);return/*#__PURE__*/React.createElement(React.Fragment,null,dateTime,arrayWithHTML);}else{return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{className:\"textc\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Vi hittade inga parkeringar i n\\xE4rheten av din position. Tryck p\\xE5 knappen f\\xF6r att h\\xE4mta din position p\\xE5 nytt.\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null))));}}else{return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",null,\"Tryck p\\xE5 knappen f\\xF6r att se om du kan parkera h\\xE4r.\"));}}}]);return Location;}(React.Component);export default Location;","map":{"version":3,"sources":["C:/Users/Elvira/Desktop/ParkHere2/my-app/src/location.js"],"names":["React","Axios","Button","Container","Row","Col","Location","props","getGeoLocation","position","setArray","updateStateWithArray","array","get","coords","latitude","longitude","then","response","console","log","data","property","push","JSON","stringify","catch","error","locate","bind","renderTheArray","state","setShow","navigator","geolocation","getCurrentPosition","setState","AllPlaceObjects","length","tempPlaces","dateTime","arrayWithHTML","onePlace","parkingStatus","district","returnAddress","serviceMessage","maxHours","dateToday","timeToday","Component"],"mappings":"8gCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,KAAZ,KAAuB,OAAvB,CACA,MAAO,gBAAP,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,C,GAEMC,CAAAA,Q,gHAEF,kBAAYC,KAAZ,CAAmB,0CACf,uBAAMA,KAAN,EADe,MAmBnBC,cAnBmB,CAmBF,SAACC,QAAD,CAAc,CAE3B,GAAIC,CAAAA,QAAQ,CAAG,MAAKC,oBAApB,CAEA,GAAMC,CAAAA,KAAK,CAAG,EAAd,CACAX,KAAK,CAACY,GAAN,8CAAgDJ,QAAQ,CAACK,MAAT,CAAgBC,QAAhE,iBAAgFN,QAAQ,CAACK,MAAT,CAAgBE,SAAhG,GAEKC,IAFL,CAEU,SAAUC,QAAV,CAAoB,CACtBC,OAAO,CAACC,GAAR,CAAY,kBAAoBF,QAAQ,CAACG,IAAzC,EADsB,yCAECH,QAAQ,CAACG,IAFV,YAEtB,+CAAsC,IAA3BC,CAAAA,QAA2B,aAAE;AACpCV,KAAK,CAACW,IAAN,CAAWD,QAAX,EACAH,OAAO,CAACC,GAAR,CAAYE,QAAZ,EACA;AACH,CANqB,qDAOtBH,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYI,IAAI,CAACC,SAAL,CAAeb,KAAf,CAAZ,EACAF,QAAQ,CAACE,KAAD,CAAR,CACH,CAZL,EAaKc,KAbL,CAaW,SAAUC,KAAV,CAAiB,CACpBR,OAAO,CAACC,GAAR,CAAYO,KAAZ,EACH,CAfL,EAiBH,CAzCkB,CAEf,MAAKC,MAAL,CAAc,MAAKA,MAAL,CAAYC,IAAZ,+BAAd,CACA,MAAKlB,oBAAL,CAA4B,MAAKA,oBAAL,CAA0BkB,IAA1B,+BAA5B,CACA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBD,IAApB,+BAAtB,CACA,MAAKE,KAAL,CAAc,CAAEhB,QAAQ,CAAE,iBAAZ,CAA+BC,SAAS,CAAE,kBAA1C,CAA8DgB,OAAO,CAAE,EAAvE,CAAd,CALe,aAMlB,C,4DAGQ,CAEL,GAAIC,SAAS,CAACC,WAAd,CAA2B,CACvBf,OAAO,CAACC,GAAR,CAAY,IAAZ,EACAa,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,KAAK3B,cAA9C,EAEH,CAEJ,C,kEA0BoBI,K,CAAO,CACxB,KAAKwB,QAAL,CAAc,CAAEC,eAAe,CAAEzB,KAAnB,CAAd,EACH,C,uCAGQ,CAELO,OAAO,CAACC,GAAR,CAAY,KAAKW,KAAL,CAAWM,eAAvB,EAEA,mBACI,2BAAK,SAAS,CAAC,UAAf,eACI,2BAAK,GAAG,CAAC,mCAAT,CAA6C,GAAG,CAAC,iBAAjD,CAAmE,KAAK,CAAC,MAAzE,CAAgF,SAAS,CAAC,WAA1F,EADJ,cAEI,oBAAC,SAAD,mBACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,EADJ,cAEI,oBAAC,GAAD,EAAK,EAAE,CAAC,IAAR,eACI,2BAAK,SAAS,CAAC,QAAf,CAAwB,KAAK,CAAC,MAA9B,eACI,4CACI,8BADJ,cAEI,oBAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,OAAO,CAAE,KAAKT,MAAxC,CAAgD,SAAS,CAAC,SAA1D,qBAFJ,cAGI,8BAHJ,cAII,8BAJJ,CADJ,cAOI,+BACK,KAAKE,cAAL,EADL,CAPJ,CADJ,CAFJ,cAeI,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,EAfJ,CADJ,CAFJ,CADJ,CAyBH,C,uDAEgB,CAEb,GAAI,KAAKC,KAAL,CAAWM,eAAf,CAAgC,CAC5B,GAAI,KAAKN,KAAL,CAAWM,eAAX,CAA2BC,MAA/B,CAAuC,CACnC,GAAIC,CAAAA,UAAU,CAAG,KAAKR,KAAL,CAAWM,eAA5B,CACA,GAAIG,CAAAA,QAAJ,CACA,GAAIC,CAAAA,aAAa,CAAG,EAApB,CAEAtB,OAAO,CAACC,GAAR,CAAY,KAAKW,KAAL,CAAWM,eAAvB,EACAlB,OAAO,CAACC,GAAR,CAAYmB,UAAZ,EAEApB,OAAO,CAACC,GAAR,CAAY,KAAKW,KAAL,CAAWM,eAAX,CAA2BC,MAAvC,EARmC,0CAUZ,KAAKP,KAAL,CAAWM,eAVC,aAUnC,kDAAmD,IAAxCK,CAAAA,QAAwC,cAE/C,GAAGA,QAAQ,CAACC,aAAZ,CAA0B,CACtBF,aAAa,CAAClB,IAAd,cAAmB,2BAAK,SAAS,CAAC,WAAf,eAA2B,oIAA3B,cAA4H,8BAA5H,cAAqI,8BAArI,CAAnB,EACH,CAFD,IAEO,CACHkB,aAAa,CAAClB,IAAd,cAAmB,2BAAK,SAAS,CAAC,SAAf,eAAyB,yIAAzB,cAA+H,8BAA/H,cAAwI,8BAAxI,CAAnB,EACH,CACDkB,aAAa,CAAClB,IAAd,cAAmB,+FAA4C,8BAA5C,cAAqD,8BAArD,CAAnB,EACAkB,aAAa,CAAClB,IAAd,cAAmB,6CAAcmB,QAAQ,CAACE,QAAvB,cAAgC,8BAAhC,CAAnB,EACAH,aAAa,CAAClB,IAAd,cAAmB,0CAAcmB,QAAQ,CAACG,aAAvB,cAAqC,8BAArC,CAAnB,EACAJ,aAAa,CAAClB,IAAd,cAAmB,+BAAMmB,QAAQ,CAACI,cAAf,cAA8B,8BAA9B,CAAnB,EACAL,aAAa,CAAClB,IAAd,cAAmB,+BAAMmB,QAAQ,CAACK,QAAf,cAAwB,8BAAxB,CAAnB,EAEAP,QAAQ,cAAG,6CAAM,2BAAK,SAAS,CAAC,UAAf,EAA2BE,QAAQ,CAACM,SAApC,KAAgDN,QAAQ,CAACO,SAAzD,CAAN,cAA+E,8BAA/E,CAAX,CACA9B,OAAO,CAACC,GAAR,CAAYsB,QAAZ,EACH,CAzBkC,uDA2BnCvB,OAAO,CAACC,GAAR,CAAYqB,aAAa,CAAC,CAAD,CAAzB,EACA,mBACI,oBAAC,KAAD,CAAO,QAAP,MACKD,QADL,CAEKC,aAFL,CADJ,CAMH,CAlCD,IAkCO,CACH,mBACI,oBAAC,KAAD,CAAO,QAAP,mBACI,4BAAM,SAAS,CAAC,OAAhB,eAAwB,6KAAoH,8BAApH,cAA6H,8BAA7H,CAAxB,CADJ,CADJ,CAIH,CACJ,CAzCD,IAyCO,CACH,mBACI,oBAAC,KAAD,CAAO,QAAP,mBACI,8FADJ,CADJ,CAIH,CACJ,C,sBAlIkBzC,KAAK,CAACkD,S,EAsI7B,cAAe5C,CAAAA,QAAf","sourcesContent":["import React from 'react'\r\nimport * as Axios from 'axios'\r\nimport './location.css';\r\nimport './index.css';\r\nimport Button from 'react-bootstrap/Button'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nclass Location extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.locate = this.locate.bind(this);\r\n        this.updateStateWithArray = this.updateStateWithArray.bind(this);\r\n        this.renderTheArray = this.renderTheArray.bind(this);\r\n        this.state = ({ latitude: 59.38273599999999, longitude: 17.992799999999992, setShow: '' });\r\n    }\r\n\r\n\r\n    locate() {\r\n\r\n        if (navigator.geolocation) {\r\n            console.log(this);\r\n            navigator.geolocation.getCurrentPosition(this.getGeoLocation);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    getGeoLocation = (position) => {\r\n\r\n        let setArray = this.updateStateWithArray;\r\n\r\n        const array = [];\r\n        Axios.get(`http://localhost:5000/location?lat=${position.coords.latitude}&lng=${position.coords.longitude}`\r\n        )\r\n            .then(function (response) {\r\n                console.log(\"response data: \" + response.data);\r\n                for (const property of response.data) { //om response.data är en array\r\n                    array.push(property);\r\n                    console.log(property);\r\n                    //detta pushar in alla dataobject i data arrayen.\r\n                }\r\n                console.log('här kommer en array');\r\n                console.log(JSON.stringify(array));\r\n                setArray(array);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n\r\n    }\r\n\r\n    updateStateWithArray(array) {\r\n        this.setState({ AllPlaceObjects: array });\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        console.log(this.state.AllPlaceObjects);\r\n\r\n        return (\r\n            <div className=\"calc-row\">\r\n                <img src=\"ParkHere header solid thinner.png\" alt=\"ParkHere header\" width=\"100%\" className=\"headerImg\"></img>\r\n                <Container>\r\n                    <Row>\r\n                        <Col xs=\"1\"></Col>\r\n                        <Col xs=\"10\">\r\n                            <div className=\"border\" width=\"100%\">\r\n                                <div>\r\n                                    <br></br>\r\n                                    <Button variant=\"primary\" onClick={this.locate} className=\"buttonz\">Hitta din plats!</Button>\r\n                                    <br></br>\r\n                                    <br></br>\r\n                                </div>\r\n                                <div>\r\n                                    {this.renderTheArray()}\r\n                                </div>\r\n                            </div>\r\n                        </Col>\r\n                        <Col xs=\"1\"></Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n    renderTheArray() {\r\n\r\n        if (this.state.AllPlaceObjects) {\r\n            if (this.state.AllPlaceObjects.length) {\r\n                let tempPlaces = this.state.AllPlaceObjects;\r\n                let dateTime;\r\n                let arrayWithHTML = [];\r\n\r\n                console.log(this.state.AllPlaceObjects);\r\n                console.log(tempPlaces);\r\n\r\n                console.log(this.state.AllPlaceObjects.length);\r\n\r\n                for (const onePlace of this.state.AllPlaceObjects) {\r\n\r\n                    if(onePlace.parkingStatus){\r\n                        arrayWithHTML.push(<div className=\"greenText\"><strong>Aktuella föreskrifter tyder på att parkering är tillåten på denna plats just nu.</strong><br></br><br></br></div>);\r\n                    } else {\r\n                        arrayWithHTML.push(<div className=\"redText\"><strong>Aktuella föreskrifter tyder på att parkering inte är tillåten på denna plats just nu.</strong><br></br><br></br></div>);\r\n                    }\r\n                    arrayWithHTML.push(<span>Här gäller följande parkeringsregler: <br></br><br></br></span>);\r\n                    arrayWithHTML.push(<div>Område: {onePlace.district}<br></br></div>);\r\n                    arrayWithHTML.push(<div>Adress: {onePlace.returnAddress}<br></br></div>);\r\n                    arrayWithHTML.push(<div>{onePlace.serviceMessage}<br></br></div>);\r\n                    arrayWithHTML.push(<div>{onePlace.maxHours}<br></br></div>);\r\n\r\n                    dateTime = <span><div className=\"dateTime\">{onePlace.dateToday} {onePlace.timeToday}</div><br></br></span>;\r\n                    console.log(onePlace);\r\n                }\r\n\r\n                console.log(arrayWithHTML[0]);\r\n                return (\r\n                    <React.Fragment>\r\n                        {dateTime}\r\n                        {arrayWithHTML}\r\n                    </React.Fragment>\r\n                )\r\n            } else {\r\n                return (\r\n                    <React.Fragment>\r\n                        <span className=\"textc\"><strong>Vi hittade inga parkeringar i närheten av din position. Tryck på knappen för att hämta din position på nytt.<br></br><br></br></strong></span>\r\n                    </React.Fragment>)\r\n            }\r\n        } else {\r\n            return (\r\n                <React.Fragment>\r\n                    <span>Tryck på knappen för att se om du kan parkera här.</span>\r\n                </React.Fragment>)\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Location\r\n"]},"metadata":{},"sourceType":"module"}