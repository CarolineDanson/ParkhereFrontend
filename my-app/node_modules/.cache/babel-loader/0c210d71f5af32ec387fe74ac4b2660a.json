{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Elvira\\\\Desktop\\\\ParkHere2\\\\my-app\\\\src\\\\location.js\";\nimport React from 'react';\nimport * as Axios from 'axios';\nimport './location.css';\nimport './index.css';\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nclass Location extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getGeoLocation = position => {\n      let setArray = this.updateStateWithArray;\n      const array = [];\n      Axios.get(`http://localhost:5000/location?lat=${position.coords.latitude}&lng=${position.coords.longitude}`).then(function (response) {\n        console.log(\"response data: \" + response.data);\n\n        for (const property of response.data) {\n          //om response.data är en array\n          array.push(property);\n          console.log(property); //detta pushar in alla dataobject i data arrayen.\n        }\n\n        console.log('här kommer en array');\n        console.log(JSON.stringify(array));\n        setArray(array);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.locate = this.locate.bind(this);\n    this.updateStateWithArray = this.updateStateWithArray.bind(this);\n    this.renderTheArray = this.renderTheArray.bind(this);\n    this.state = {\n      latitude: 59.38273599999999,\n      longitude: 17.992799999999992,\n      setShow: ''\n    };\n  }\n\n  locate() {\n    if (navigator.geolocation) {\n      console.log(this);\n      navigator.geolocation.getCurrentPosition(this.getGeoLocation);\n    }\n  }\n\n  updateStateWithArray(array) {\n    this.setState({\n      AllPlaceObjects: array\n    });\n  }\n\n  render() {\n    console.log(this.state.AllPlaceObjects);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"calc-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"ParkHere header solid thinner.png\",\n      alt: \"ParkHere header\",\n      width: \"100%\",\n      className: \"headerImg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xs: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Col, {\n      xs: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border\",\n      width: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.locate,\n      className: \"buttonz\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 37\n      }\n    }, \"Hitta din plats!\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 33\n      }\n    }, this.renderTheArray()))), /*#__PURE__*/React.createElement(Col, {\n      xs: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n  renderTheArray() {\n    if (this.state.AllPlaceObjects) {\n      if (this.state.AllPlaceObjects.length) {\n        let tempPlaces = this.state.AllPlaceObjects;\n        let dateTime;\n        let arrayWithHTML = [];\n        console.log(this.state.AllPlaceObjects);\n        console.log(tempPlaces);\n        console.log(this.state.AllPlaceObjects.length);\n\n        for (const onePlace of this.state.AllPlaceObjects) {\n          if (onePlace.parkingStatus) {\n            arrayWithHTML.push( /*#__PURE__*/React.createElement(\"div\", {\n              className: \"greenText\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 44\n              }\n            }, /*#__PURE__*/React.createElement(\"strong\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 71\n              }\n            }, \"Aktuella f\\xF6reskrifter tyder p\\xE5 att parkering \\xE4r till\\xE5ten p\\xE5 denna plats just nu.\"), /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 168\n              }\n            }), /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 177\n              }\n            })));\n          } else {\n            arrayWithHTML.push( /*#__PURE__*/React.createElement(\"div\", {\n              className: \"redText\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 44\n              }\n            }, /*#__PURE__*/React.createElement(\"strong\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 69\n              }\n            }, \"Aktuella f\\xF6reskrifter tyder p\\xE5 att parkering inte \\xE4r till\\xE5ten p\\xE5 denna plats just nu.\"), /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 171\n              }\n            }), /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 180\n              }\n            })));\n          }\n\n          arrayWithHTML.push( /*#__PURE__*/React.createElement(\"span\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 40\n            }\n          }, \"H\\xE4r g\\xE4ller f\\xF6ljande parkeringsregler: \", /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 84\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 93\n            }\n          })));\n          arrayWithHTML.push( /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 40\n            }\n          }, \"Omr\\xE5de: \", onePlace.district, /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 72\n            }\n          })));\n          arrayWithHTML.push( /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 40\n            }\n          }, \"Adress: \", onePlace.returnAddress, /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 77\n            }\n          })));\n          arrayWithHTML.push( /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 40\n            }\n          }, onePlace.serviceMessage, /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 70\n            }\n          })));\n          arrayWithHTML.push( /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 40\n            }\n          }, onePlace.maxHours, /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 64\n            }\n          })));\n          dateTime = /*#__PURE__*/React.createElement(\"span\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 32\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"dateTime\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 38\n            }\n          }, onePlace.dateToday, \" \", onePlace.timeToday), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 111\n            }\n          }));\n          console.log(onePlace);\n        }\n\n        console.log(arrayWithHTML[0]);\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 21\n          }\n        }, dateTime, arrayWithHTML);\n      } else {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"textc\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 49\n          }\n        }, \"Vi hittade inga parkeringar i n\\xE4rheten av din position. Tryck p\\xE5 knappen f\\xF6r att h\\xE4mta din position p\\xE5 nytt.\", /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 165\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 174\n          }\n        }))));\n      }\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }\n      }, \"Tryck p\\xE5 knappen f\\xF6r att se om du kan parkera h\\xE4r.\"));\n    }\n  }\n\n}\n\nexport default Location;","map":{"version":3,"sources":["C:/Users/Elvira/Desktop/ParkHere2/my-app/src/location.js"],"names":["React","Axios","Button","Container","Row","Col","Location","Component","constructor","props","getGeoLocation","position","setArray","updateStateWithArray","array","get","coords","latitude","longitude","then","response","console","log","data","property","push","JSON","stringify","catch","error","locate","bind","renderTheArray","state","setShow","navigator","geolocation","getCurrentPosition","setState","AllPlaceObjects","render","length","tempPlaces","dateTime","arrayWithHTML","onePlace","parkingStatus","district","returnAddress","serviceMessage","maxHours","dateToday","timeToday"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport * as Axios from 'axios'\r\nimport './location.css';\r\nimport './index.css';\r\nimport Button from 'react-bootstrap/Button'\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\n\r\nclass Location extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.locate = this.locate.bind(this);\r\n        this.updateStateWithArray = this.updateStateWithArray.bind(this);\r\n        this.renderTheArray = this.renderTheArray.bind(this);\r\n        this.state = ({ latitude: 59.38273599999999, longitude: 17.992799999999992, setShow: '' });\r\n    }\r\n\r\n\r\n    locate() {\r\n\r\n        if (navigator.geolocation) {\r\n            console.log(this);\r\n            navigator.geolocation.getCurrentPosition(this.getGeoLocation);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    getGeoLocation = (position) => {\r\n\r\n        let setArray = this.updateStateWithArray;\r\n\r\n        const array = [];\r\n        Axios.get(`http://localhost:5000/location?lat=${position.coords.latitude}&lng=${position.coords.longitude}`\r\n        )\r\n            .then(function (response) {\r\n                console.log(\"response data: \" + response.data);\r\n                for (const property of response.data) { //om response.data är en array\r\n                    array.push(property);\r\n                    console.log(property);\r\n                    //detta pushar in alla dataobject i data arrayen.\r\n                }\r\n                console.log('här kommer en array');\r\n                console.log(JSON.stringify(array));\r\n                setArray(array);\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n\r\n    }\r\n\r\n    updateStateWithArray(array) {\r\n        this.setState({ AllPlaceObjects: array });\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        console.log(this.state.AllPlaceObjects);\r\n\r\n        return (\r\n            <div className=\"calc-row\">\r\n                <img src=\"ParkHere header solid thinner.png\" alt=\"ParkHere header\" width=\"100%\" className=\"headerImg\"></img>\r\n                <Container>\r\n                    <Row>\r\n                        <Col xs=\"1\"></Col>\r\n                        <Col xs=\"10\">\r\n                            <div className=\"border\" width=\"100%\">\r\n                                <div>\r\n                                    <br></br>\r\n                                    <Button variant=\"primary\" onClick={this.locate} className=\"buttonz\">Hitta din plats!</Button>\r\n                                    <br></br>\r\n                                    <br></br>\r\n                                </div>\r\n                                <div>\r\n                                    {this.renderTheArray()}\r\n                                </div>\r\n                            </div>\r\n                        </Col>\r\n                        <Col xs=\"1\"></Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n    renderTheArray() {\r\n\r\n        if (this.state.AllPlaceObjects) {\r\n            if (this.state.AllPlaceObjects.length) {\r\n                let tempPlaces = this.state.AllPlaceObjects;\r\n                let dateTime;\r\n                let arrayWithHTML = [];\r\n\r\n                console.log(this.state.AllPlaceObjects);\r\n                console.log(tempPlaces);\r\n\r\n                console.log(this.state.AllPlaceObjects.length);\r\n\r\n                for (const onePlace of this.state.AllPlaceObjects) {\r\n\r\n                    if(onePlace.parkingStatus){\r\n                        arrayWithHTML.push(<div className=\"greenText\"><strong>Aktuella föreskrifter tyder på att parkering är tillåten på denna plats just nu.</strong><br></br><br></br></div>);\r\n                    } else {\r\n                        arrayWithHTML.push(<div className=\"redText\"><strong>Aktuella föreskrifter tyder på att parkering inte är tillåten på denna plats just nu.</strong><br></br><br></br></div>);\r\n                    }\r\n                    arrayWithHTML.push(<span>Här gäller följande parkeringsregler: <br></br><br></br></span>);\r\n                    arrayWithHTML.push(<div>Område: {onePlace.district}<br></br></div>);\r\n                    arrayWithHTML.push(<div>Adress: {onePlace.returnAddress}<br></br></div>);\r\n                    arrayWithHTML.push(<div>{onePlace.serviceMessage}<br></br></div>);\r\n                    arrayWithHTML.push(<div>{onePlace.maxHours}<br></br></div>);\r\n\r\n                    dateTime = <span><div className=\"dateTime\">{onePlace.dateToday} {onePlace.timeToday}</div><br></br></span>;\r\n                    console.log(onePlace);\r\n                }\r\n\r\n                console.log(arrayWithHTML[0]);\r\n                return (\r\n                    <React.Fragment>\r\n                        {dateTime}\r\n                        {arrayWithHTML}\r\n                    </React.Fragment>\r\n                )\r\n            } else {\r\n                return (\r\n                    <React.Fragment>\r\n                        <span className=\"textc\"><strong>Vi hittade inga parkeringar i närheten av din position. Tryck på knappen för att hämta din position på nytt.<br></br><br></br></strong></span>\r\n                    </React.Fragment>)\r\n            }\r\n        } else {\r\n            return (\r\n                <React.Fragment>\r\n                    <span>Tryck på knappen för att se om du kan parkera här.</span>\r\n                </React.Fragment>)\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default Location\r\n"]},"metadata":{},"sourceType":"module"}