{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hanna Metsis\\\\iCloudDrive\\\\IdeaProjects\\\\ParkHereTwo\\\\my-app\\\\src\\\\location.js\";\nimport React from 'react';\nimport * as Axios from 'axios';\n\nclass Location extends React.Component {\n  constructor(props) {\n    super(props); // this.getmethod = this.getmethod.bind(this);\n\n    this.getGeoLocation = position => {\n      let setArray = this.updateStateWithArray;\n      const array = [];\n      Axios.get(`http://localhost:8080/location?lat=${position.coords.latitude}&lng=${position.coords.longitude}`).then(function (response) {\n        for (const property of response.data) {\n          //om response.data är en array\n          array.push(property);\n          console.log(property); //detta pushar in alla dataobject i data arrayen.\n        }\n\n        console.log('här kommer en array');\n        console.log(JSON.stringify(array));\n        setArray(array);\n      }).catch(function (error) {\n        console.log(error);\n      }); // this.updateStateWithArray(array);\n      //   return (            \n      //   <React.Fragment>\n      //       <div>\n      //           {array}\n      //       </div>\n      // </React.Fragment>\n      // );\n    };\n\n    this.locate = this.locate.bind(this);\n    this.updateStateWithArray = this.updateStateWithArray.bind(this);\n    this.renderTheArray = this.renderTheArray.bind(this);\n    this.state = {\n      latitude: 59.38273599999999,\n      longitude: 17.992799999999992\n    }; // this.lat = this.lat.bind(this);\n    // this.long = this.long.bind(this);\n  }\n\n  locate() {\n    const posStatus = document.querySelector('#posStatus'); //const locInfo = document.querySelector('#locInfo');\n\n    posStatus.innerHTML = 'Letar plats';\n\n    if (navigator.geolocation) {\n      console.log(this);\n      navigator.geolocation.getCurrentPosition(this.getGeoLocation); // this.getmethod();\n    }\n  }\n\n  render() {\n    console.log(this.state.AllPlaceObjects);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.locate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, \"Hitta din plats!\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, this.renderTheArray()));\n  }\n\n  renderTheArray() {\n    if (this.state.AllPlaceObjects) {\n      let tempPlaces = this.state.AllPlaceObjects;\n      let arrayWithHTML = [];\n      console.log(this.state.AllPlaceObjects);\n      console.log(tempPlaces);\n      console.log(this.state.AllPlaceObjects.length);\n\n      for (const onePlace of this.state.AllPlaceObjects) {\n        arrayWithHTML.push( /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 26\n          }\n        }, \"Distrikt: \", onePlace.cityDistrict));\n        arrayWithHTML.push( /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 26\n          }\n        }, \"Address: \", onePlace.address));\n        arrayWithHTML.push( /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 26\n          }\n        }, \"Maximalt antal parkeringstimmar: \", onePlace.maxParkingHours));\n        console.log(onePlace);\n      } // for(let i = 0; i < this.state.AllPlaceObjects.length; i++){\n      //   arrayWithHTML.push(<div>{this.state.AllPlaceObjects[i].vehicle}</div>);\n      // }\n\n\n      console.log(arrayWithHTML[0]); // På {adress} gäller följande parkeringsregler:\n\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, \"P\\xE5 \"), arrayWithHTML);\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }\n      }, \"H\\xE4r g\\xE4ller f\\xF6ljande parkeringsregler:\"));\n    }\n  } // getmethod () {\n  //     Axios.get(`http://localhost:8080/location?lat=${this.state.lat}&lng=${this.state.long}`\n  //         )\n  //       .then(function (response) {\n  //         console.log(response);\n  //       })\n  //       .catch(function (error) {\n  //         console.log(error);\n  //       });\n  // }\n\n\n  updateStateWithArray(array) {\n    this.setState({\n      AllPlaceObjects: array\n    });\n    console.log(\"hejhejhejhejhejhejhejhej\");\n  }\n\n}\n\nexport default Location;","map":{"version":3,"sources":["C:/Users/Hanna Metsis/iCloudDrive/IdeaProjects/ParkHereTwo/my-app/src/location.js"],"names":["React","Axios","Location","Component","constructor","props","getGeoLocation","position","setArray","updateStateWithArray","array","get","coords","latitude","longitude","then","response","property","data","push","console","log","JSON","stringify","catch","error","locate","bind","renderTheArray","state","posStatus","document","querySelector","innerHTML","navigator","geolocation","getCurrentPosition","render","AllPlaceObjects","tempPlaces","arrayWithHTML","length","onePlace","cityDistrict","address","maxParkingHours","setState"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport * as Axios from 'axios'\r\n\r\nclass Location extends React.Component {\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    // this.getmethod = this.getmethod.bind(this);\r\n    this.locate = this.locate.bind(this);\r\n    this.updateStateWithArray = this.updateStateWithArray.bind(this);\r\n    this.renderTheArray = this.renderTheArray.bind(this);\r\n    this.state = ({ latitude: 59.38273599999999, longitude: 17.992799999999992 });\r\n    // this.lat = this.lat.bind(this);\r\n    // this.long = this.long.bind(this);\r\n  }\r\n\r\n\r\n  locate() {\r\n\r\n    const posStatus = document.querySelector('#posStatus');\r\n    //const locInfo = document.querySelector('#locInfo');\r\n    posStatus.innerHTML = 'Letar plats'\r\n    if (navigator.geolocation) {\r\n      console.log(this);\r\n      navigator.geolocation.getCurrentPosition(this.getGeoLocation);\r\n\r\n      // this.getmethod();\r\n\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    console.log(this.state.AllPlaceObjects);\r\n\r\n    return (\r\n\r\n      <div>\r\n        <div>\r\n          <button onClick={this.locate}>Hitta din plats!</button>\r\n          {/* { <h2 id='posStatus'> </h2> } */}  \r\n        </div>\r\n\r\n        <div>\r\n          {this.renderTheArray()}\r\n        </div>\r\n\r\n      </div>\r\n    )\r\n\r\n  }\r\n\r\n  renderTheArray() {\r\n\r\n    if(this.state.AllPlaceObjects){\r\n    let tempPlaces = this.state.AllPlaceObjects;\r\n    let arrayWithHTML = [];\r\n\r\n    console.log(this.state.AllPlaceObjects);\r\n    console.log(tempPlaces);\r\n\r\n    console.log(this.state.AllPlaceObjects.length);\r\n\r\n    for(const onePlace of this.state.AllPlaceObjects){\r\n      arrayWithHTML.push(<div>Distrikt: {onePlace.cityDistrict}</div>);\r\n      arrayWithHTML.push(<div>Address: {onePlace.address}</div>);\r\n      arrayWithHTML.push(<div>Maximalt antal parkeringstimmar: {onePlace.maxParkingHours}</div>);\r\n    \r\n    \r\n      console.log(onePlace);\r\n    }\r\n\r\n    // for(let i = 0; i < this.state.AllPlaceObjects.length; i++){\r\n    //   arrayWithHTML.push(<div>{this.state.AllPlaceObjects[i].vehicle}</div>);\r\n    // }\r\n\r\n    console.log(arrayWithHTML[0]);\r\n    // På {adress} gäller följande parkeringsregler:\r\n    return ( \r\n      <React.Fragment>\r\n          <span>På </span>\r\n            {arrayWithHTML}\r\n      </React.Fragment>\r\n    )\r\n    } else {\r\n      return (      \r\n      <React.Fragment>\r\n        <span>Här gäller följande parkeringsregler:</span>\r\n      </React.Fragment>)\r\n    }\r\n  }\r\n\r\n  // getmethod () {\r\n\r\n  //     Axios.get(`http://localhost:8080/location?lat=${this.state.lat}&lng=${this.state.long}`\r\n  //         )\r\n  //       .then(function (response) {\r\n  //         console.log(response);\r\n  //       })\r\n  //       .catch(function (error) {\r\n  //         console.log(error);\r\n  //       });\r\n  // }\r\n\r\n\r\n  getGeoLocation = (position) => {\r\n\r\n    let setArray =  this.updateStateWithArray;\r\n\r\n    const array = [];\r\n    Axios.get(`http://localhost:8080/location?lat=${position.coords.latitude}&lng=${position.coords.longitude}`\r\n    )\r\n      .then(function (response) {\r\n        for (const property of response.data) { //om response.data är en array\r\n          array.push(property);\r\n          console.log(property);\r\n          //detta pushar in alla dataobject i data arrayen.\r\n        }\r\n        console.log('här kommer en array');\r\n        console.log(JSON.stringify(array));\r\n        setArray(array);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n\r\n      // this.updateStateWithArray(array);\r\n\r\n    //   return (            \r\n    //   <React.Fragment>\r\n    //       <div>\r\n    //           {array}\r\n    //       </div>\r\n    // </React.Fragment>\r\n    // );\r\n  }\r\n\r\n  updateStateWithArray(array) {\r\n    this.setState({ AllPlaceObjects: array });\r\n    console.log(\"hejhejhejhejhejhejhejhej\");\r\n  }\r\n}\r\n\r\nexport default Location\r\n"]},"metadata":{},"sourceType":"module"}